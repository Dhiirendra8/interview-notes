Rate limiting algorithms are used to **control the number of requests or operations** a client can perform over a period of time. 
These are essential in systems like APIs, login endpoints, and messaging queues to prevent abuse or overload.

---

## ğŸš¦ Common Rate Limiting Algorithms

### 1. **Fixed Window Counter**

* ğŸ§  Concept: Count requests per fixed time window (e.g., per minute).
* ğŸ•‘ Example: Allow 100 requests per minute.
* âœ… Simple and fast.
* âŒ Bursty traffic at window boundaries.

**Data structure**: Map of time window â†’ request count

```text
[12:00 - 12:01] -> allow 100 requests
[12:01 - 12:02] -> new window starts
```

---

### 2. **Sliding Window Log**

* ğŸ§  Concept: Log each request's timestamp, then remove entries older than the time window.
* âœ… Accurate.
* âŒ High memory usage at scale.

**Data structure**: Queue or list of timestamps per client

```text
Request timestamps: [12:00:01, 12:00:12, ..., 12:00:59]
Only allow if less than N timestamps in last 60 seconds
```

---

### 3. **Sliding Window Counter (Approximate)**

* ğŸ§  Concept: Split time window into smaller sub-windows (e.g., 6 x 10s buckets).
* âœ… Less memory than full log, smoother than fixed window.
* âŒ Slight inaccuracy.

**Data structure**: Map of bucket â†’ request count
Sum counts from active sub-windows.

---

### 4. **Token Bucket**

* ğŸ§  Concept: Bucket holds tokens; each request consumes a token.
* Tokens are added at a fixed rate.
* âœ… Allows bursts up to bucket size, enforces average rate.
* âŒ Needs careful tuning of refill rate and bucket size.

**Analogy**: Tokens = permissions

```text
- Bucket size = 100
- Refill rate = 10 tokens/sec
- If empty â†’ requests are rejected or delayed
```

---

### 5. **Leaky Bucket**

* ğŸ§  Concept: Queue incoming requests; process at a fixed rate.
* âœ… Smooth and consistent output rate.
* âŒ Delays burst requests instead of rejecting them.

**Analogy**: Water in bucket leaks at a constant rate
If too much water (requests) arrive too fast, they overflow.

---

## ğŸ“Š Comparison

| Algorithm              | Burst Handling | Accuracy | Memory Use | Complexity |
| ---------------------- | -------------- | -------- | ---------- | ---------- |
| Fixed Window Counter   | âŒ Poor         | âœ… Good   | âœ… Low      | âœ… Simple   |
| Sliding Window Log     | âœ… Good         | âœ… Best   | âŒ High     | âŒ Higher   |
| Sliding Window Counter | âœ… Medium       | âœ… Good   | âœ… Medium   | âœ… Medium   |
| Token Bucket           | âœ… Great        | âœ… Good   | âœ… Low      | âœ… Medium   |
| Leaky Bucket           | âœ… Queues only  | âœ… Good   | âœ… Medium   | âœ… Medium   |

---

## ğŸ› ï¸ Real-World Usage

* **API Gateways** (e.g., AWS API Gateway, NGINX)
* **Login throttling**
* **Message brokers** (e.g., Kafka consumers)
* **Distributed systems** with tools like:

  * Redis (for counters/tokens)
  * Bucket4j (Java library)
  * Guava `RateLimiter` (Token Bucket)
  * Spring Cloud Gateway rate limit filters

---

